@model Xlns.BusBook.UI.Web.Models.LocationPartialView

@{ var uniqueId = Model.GetHashCode();}


<div style="display: none">
    <fieldset>
        <legend>GeoLocation</legend>
        <div class="display-label">
            Nation</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.Nation)
        </div>
        <div class="display-label">
            Region</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.Region)
        </div>
        <div class="display-label">
            Province</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.Province)
        </div>
        <div class="display-label">
            City</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.City)
        </div>
        <div class="display-label">
            Street</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.Street)
        </div>
        <div class="display-label">
            Number</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.Number)
        </div>
        <div class="display-label">
            CAP</div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Location.CAP)
        </div>
        @Html.HiddenFor(model => model.Location.Lat, new { id = "hiddenLat" + uniqueId })
        @Html.HiddenFor(model => model.Location.Lng, new { id = "hiddenLng" + uniqueId })
    </fieldset>
</div>
@Html.DisplayFor(model => model.Location.IndirizzoLeggibile)
<div style="height: 20px">
    <span id="loaderMessage@(uniqueId)"></span>
</div>
<div id="map_canvas@(uniqueId)" style="width: @(Model.MapWidth)px; height: @(Model.MapHeight)px;">
</div>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/scripts/location.read.js")"></script>
<script type="text/javascript">
    /*
    hidLatId = "hiddenLat@(uniqueId)";
    hidLngId = "hiddenLng@(uniqueId)";
    mapId = "map_canvas@(uniqueId)";
    loaderId = "loaderMessage@(uniqueId)";

    initMap();
    */

    initialize(errorMsg, "hiddenLat@(uniqueId)", "hiddenLng@(uniqueId)", "map_canvas@(uniqueId)", "loaderMessage@(uniqueId)");
</script>