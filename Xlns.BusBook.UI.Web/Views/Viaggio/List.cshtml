@model IEnumerable<Xlns.BusBook.Core.Model.Viaggio>
@{    
    ViewBag.Title = "Viaggi";    
    int grid = 16;
    bool needsContainer = true;
    if (ViewBag.IsFullPage != null && ViewBag.IsFullPage == false)
    {
        needsContainer = false;
        grid = 6;
    }
}
@section head{
    <link href="@Url.Content("~/Content/tiledList.css")" rel="stylesheet" type="text/css" media="screen"/>
}
@section scripts{
    <script src="@Url.Content("~/Content/scripts/viaggio.lista.js")" type="text/javascript"></script>
}

@if (needsContainer)
{
    <text><div id="content-wrapper"></text>
}
else
{
    <text><div></text>
}

    <div id="main" class="grid_@(grid)">
        <h3>@ViewBag.Title</h3>
        <p>
            @Html.ActionLink("Proponi nuovo viaggio", "Create", null, new { @class = "read-more" })
        </p>
        @foreach (var item in Model)
        {
            Html.RenderAction("ViaggioTiledDetail", new { viaggio = item });
        }
    </div>    
 </div>    