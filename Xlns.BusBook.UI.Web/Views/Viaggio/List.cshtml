@model IEnumerable<Xlns.BusBook.Core.Model.Viaggio>
@{    
    ViewBag.Title = "Viaggi";    
    int grid = 16;
    bool needsContainer = true;
    if (ViewBag.IsFullPage != null && ViewBag.IsFullPage == false)
    {
        needsContainer = false;
        grid = 9;
    }
}
@section head{
    <link href="@Url.Content("~/Content/tiledList.css")" rel="stylesheet" type="text/css" media="screen"/>
}
@section scripts{
    <script src="@Url.Content("~/Content/scripts/viaggio.lista.js")" type="text/javascript"></script>
}

@if (needsContainer)
{
    <text><div id="content-wrapper" class="container_16"></text>
}
else
{
    <text><div></text>
}

    <div id="main" class="grid_@(grid)">
        <h3>@ViewBag.Title</h3>
        <p>
        @{Html.RenderAction("Search", "Viaggio", new { idDivToUpdate = "elencoViaggi", onlyPubblicati = false, isFlyerSearch = false });}
        </p>
        <p>
            @Html.ActionLink("Proponi nuovo viaggio", "Create", null, new { @class = "button" })
        </p>
        <div id="elencoViaggi">
            @{
               Html.RenderAction("ListOfViaggioTiledDetail", new { viaggi = Model });   
            }
        </div>
    </div>    
 </div>    